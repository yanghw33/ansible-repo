---

- name: Testing importing group and host vars via Tower
  hosts: all
  gather_facts: no
  connection: local
  vars:
    bigip_admin_credentials: i!vault |
          $ANSIBLE_VAULT;1.1;AES256
          62643233393764633032666266393839633563616635346265393065653233636663613237393232
          6538303235356366356536313635323531313934653235630a666137373733663965626661623563
          31656536633834313334323566376338613533636637643935306166656431353237323437343533
          3135636165333264330a373539666136646433306266336530353836623830633734626336383038
          3333

  tasks:
    - name: Setting the hostname of the target BIGIP
      bigip_hostname:
        hostname: "{{ hostname }}"
        provider:
          user: admin
          server: "{{ ansible_host }}"
          password: "{{ bigip_admin_credentials }}"
          validate_certs: no
