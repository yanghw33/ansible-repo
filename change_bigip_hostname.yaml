---

- name: Testing importing group and host vars via Tower
  hosts: all
  gather_facts: no
  connection: local
  vars:
    bigip_admin_credentials: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32323337613661616136303734636339623331393735633034346533626132663663653234643764
          3461626433363964393636373731336538346166366366360a323463363165396538646331323461
          32643938393031363937326431663262653138353965373865643665623264636665306631623965
          3962353962366462310a643564656335613532646561396438313766346130366538303634623837
          6139

  tasks:
    - name: Setting the hostname of the target BIGIP
      bigip_hostname:
        hostname: "{{ hostname }}"
        provider:
          user: admin
          server: "{{ ansible_host }}"
          password: "{{ bigip_admin_credentials }}"
          validate_certs: no
